{"paragraphs":[{"text":"%md\n# Load Data\n\nFirst we load data from HDFS. It is stored as a trivial CSV file with three columns\n\n    product name\n    review text\n    rating (1 - 5)\n\n","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460867_533671309","id":"20170129-045139_1503434840","result":{"code":"SUCCESS","type":"HTML","msg":"<h1>Load Data</h1>\n<p>First we load data from HDFS. It is stored as a trivial CSV file with three columns</p>\n<pre><code>product name\nreview text\nrating (1 - 5)\n</code></pre>\n"},"dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:195"},{"text":"//val basedir = \"file:///home/cloudera/Training/data/\"\nval basedir = \"s3://dimajix-training/data/\"","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460872_530208568","id":"20170129-091247_907732707","result":{"code":"SUCCESS","type":"TEXT","msg":"\nbasedir: String = file:///home/cloudera/Training/data/\n"},"dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:196"},{"text":"import org.apache.spark.sql.types.StructType\nimport org.apache.spark.sql.types.StructField\nimport org.apache.spark.sql.types.StringType\nimport org.apache.spark.sql.types.IntegerType\nimport org.apache.spark.sql.functions.col\n\n\nval schema = StructType(\n        StructField(\"name\", StringType) ::\n        StructField(\"review\", StringType) ::\n        StructField(\"rating\", StringType) ::\n        Nil\n    )\nval data = sqlContext.read\n    .schema(schema)\n    .csv(basedir + \"amazon_baby\")\n    .withColumn(\"rating\", col(\"rating\").cast(IntegerType))\n    .filter(col(\"rating\").isNotNull)\nz.show(data.limit(10))","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460872_530208568","id":"20170129-045155_986374275","result":{"code":"SUCCESS","type":"TABLE","msg":"name\treview\trating\nPlanetwise Flannel Wipes\tThese flannel wipes are OK, but in my opinion not worth keeping.  I also ordered someImse Vimse Cloth Wipes-Ocean Blue-12 countwhich are larger, had a nicer, softer texture and just seemed higher quality.  I use cloth wipes for hands and faces and have been usingThirsties 6 Pack Fab Wipes, Boyfor about 8 months now and need to replace them because they are starting to get rough and have had stink issues for a while that stripping no longer handles.\t3\nPlanetwise Wipe Pouch\tit came early and was not disappointed. i love planet wise bags and now my wipe holder. it keps my osocozy wipes moist and does not leak. highly recommend it.\t5\nAnnas Dream Full Quilt with 2 Shams\tVery soft and comfortable and warmer than it looks...fit the full size bed perfectly...would recommend to anyone looking for this type of quilt\t5\nStop Pacifier Sucking without tears with Thumbuddy To Love's Binky Fairy Puppet and Adorable Book\tThis is a product well worth the purchase.  I have not found anything else like this, and it is a positive, ingenious approach to losing the binky.  What I love most about this product is how much ownership my daughter has in getting rid of the binky.  She is so proud of herself, and loves her little fairy.  I love the artwork, the chart in the back, and the clever approach of this tool.\t5\nStop Pacifier Sucking without tears with Thumbuddy To Love's Binky Fairy Puppet and Adorable Book\tAll of my kids have cried non-stop when I tried to ween them off their pacifier, until I found Thumbuddy To Love's Binky Fairy Puppet.  It is an easy way to work with your kids to allow them to understand where their pacifier is going and help them part from it.This is a must buy book, and a great gift for expecting parents!!  You will save them soo many headaches.Thanks for this book!  You all rock!!\t5\nStop Pacifier Sucking without tears with Thumbuddy To Love's Binky Fairy Puppet and Adorable Book\tWhen the Binky Fairy came to our house, we didn't have any special gift and book to help explain to her about how important it is to stop using a pacifier. This book does a great job to help prepare your child for the loss of their favorite item. The doll is adorable and we made lots of cute movies with the Binky Fairy telling our daughter about what happens when the Binky Fairy comes. I would highly recommend this product for any parent trying to break the pacifier or thumb sucking habit.\t5\nA Tale of Baby's Days with Peter Rabbit\tLovely book, it's bound tightly so you may not be able to add alot of photos/cards aside from the designated spaces in the book. Shop around before you purchase, as it is currently listed at Barnes & Noble for 29.95!\t4\nBaby Tracker&reg; - Daily Childcare Journal, Schedule Log\tPerfect for new parents. We were able to keep track of baby's feeding, sleep and diaper change schedule for the first two and a half months of her life. Made life easier when the doctor would ask questions about habits because we had it all right there!\t5\nBaby Tracker&reg; - Daily Childcare Journal, Schedule Log\tA friend of mine pinned this product on Pinterest so I decided to give it a whirl! It is fantastic! If you are a new parent, this will help you keep track of feedings, diaper changes and the like!\t5\nBaby Tracker&reg; - Daily Childcare Journal, Schedule Log\tThis has been an easy way for my nanny to record all the key events that happen with my baby when I'm not at home.  Would highly recommend it to someone who wants to stay informed of what your baby is up to while you're not home.The only reason this isn't a 5 is because I think there could have been some more standarad pre-printed options.I plan on ordering another one when we run out of pages in this journal.\t4\n"},"dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:197"},{"text":"%md\n# Split Train Data / Test Data\n\nNow let's do the usual split of our data into a training data set and a validation data set. Let's use 80% of all reviews for training and 20% for validation. The sampling can be done via the DataFrame method `randomSplit`.\n","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460874_530978066","id":"20170129-045205_1227820739","result":{"code":"SUCCESS","type":"HTML","msg":"<h1>Split Train Data / Test Data</h1>\n<p>Now let's do the usual split of our data into a training data set and a validation data set. Let's use 80% of all reviews for training and 20% for validation. The sampling can be done via the DataFrame method <code>randomSplit</code>.</p>\n"},"dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:198"},{"text":"val Array(trainingData, validationData) = data.randomSplit(Array(0.8,0.2), seed=1)\n\nprintln(s\"trainingData: ${trainingData.count()}\")\nprintln(s\"validationData: ${validationData.count()}\")","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460875_530593317","id":"20170129-045214_331567309","dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:199"},{"text":"%md\n# Implement Transformer\n\nWe need a custom Transformer to build the pipeline. The transformer should remove all punctuations from a given column containing text.\n","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460875_530593317","id":"20170129-045225_1360438852","result":{"code":"SUCCESS","type":"HTML","msg":"<h1>Implement Transformer</h1>\n<p>We need a custom Transformer to build the pipeline. The transformer should remove all punctuations from a given column containing text.</p>\n"},"dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:200"},{"text":"import org.apache.spark.ml.Transformer\nimport org.apache.spark.ml.param.ParamMap\nimport org.apache.spark.ml.util.Identifiable\nimport org.apache.spark.sql.types.StructType\nimport org.apache.spark.sql.types.StructField\nimport org.apache.spark.sql.types.StringType\nimport org.apache.spark.sql.functions.udf\nimport org.apache.spark.sql.functions.col\n\n\nclass PunctuationCleanupTransformer(override val uid: String) extends org.apache.spark.ml.Transformer {\n    def this() = this(org.apache.spark.ml.util.Identifiable.randomUID(\"accuEval\"))\n\n    val inputCol: org.apache.spark.ml.param.Param[String] = new org.apache.spark.ml.param.Param[String](this, \"inputCol\", \"input column name\")\n    setDefault(inputCol, \"input\")\n    def getInputCol: String = $(inputCol)\n    def setInputCol(value:String): this.type = set(inputCol, value)\n\n    val outputCol: org.apache.spark.ml.param.Param[String] = new org.apache.spark.ml.param.Param[String](this, \"outputCol\", \"output column name\")\n    setDefault(outputCol, \"output\")\n    def getOutputCol: String = $(outputCol)\n    def setOutputCol(value:String): this.type = set(outputCol, value)\n    \n    override def transform(dataset:org.apache.spark.sql.Dataset[_]) = {\n        val removePunctuation = org.apache.spark.sql.functions.udf { text:String => if (text != null) text.replaceAll(\"\\\\p{Punct}\", \" \") else \"\" }\n        dataset.withColumn(getOutputCol, removePunctuation(dataset(getInputCol)))\n    }\n    \n    override def transformSchema(schema:org.apache.spark.sql.types.StructType) = {\n        val outputColName = $(outputCol)\n        val outCol = org.apache.spark.sql.types.StructField(outputColName, org.apache.spark.sql.types.StringType)\n        \n        if (schema.fieldNames.contains(outputColName)) {\n          throw new IllegalArgumentException(s\"Output column $outputColName already exists.\")\n        }\n        org.apache.spark.sql.types.StructType(schema.fields :+ outCol)\n    }\n\n    override def copy(extra: org.apache.spark.ml.param.ParamMap): PunctuationCleanupTransformer = defaultCopy(extra)\n}\n","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460876_528669573","id":"20170129-045233_1450874507","dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:201"},{"text":"%md\n## Test Transformer\n\nLets create an instance of the Transformer and test it. This involves the following steps\n1. Create an instance of the class PunctuationCleanupTransformer\n2. Configure input and output column names in transfomer\n3. Transform the data and store the result in a DataFrame `clean_data`\n \nOptionally you can also display the first couple of entries using `z.show()`.\n","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460877_528284824","id":"20170129-045246_1519878179","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>Test Transformer</h2>\n<p>Lets create an instance of the Transformer and test it. This involves the following steps</p>\n<ol>\n<li>Create an instance of the class PunctuationCleanupTransformer</li>\n<li>Configure input and output column names in transfomer</li>\n<li>Transform the data and store the result in a DataFrame <code>clean_data</code></li>\n</ol>\n<p>Optionally you can also display the first couple of entries using <code>z.show()</code>.</p>\n"},"dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:202"},{"text":"val cleaner = new PunctuationCleanupTransformer()\n    .setInputCol(\"review\")\n    .setOutputCol(\"clean_review\")\nval clean_data = cleaner.transform(data)\n\nz.show(clean_data.limit(6))","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460877_528284824","id":"20170129-045257_1112043389","result":{"code":"SUCCESS","type":"TABLE","msg":"name\treview\trating\tclean_review\nPlanetwise Flannel Wipes\tThese flannel wipes are OK, but in my opinion not worth keeping.  I also ordered someImse Vimse Cloth Wipes-Ocean Blue-12 countwhich are larger, had a nicer, softer texture and just seemed higher quality.  I use cloth wipes for hands and faces and have been usingThirsties 6 Pack Fab Wipes, Boyfor about 8 months now and need to replace them because they are starting to get rough and have had stink issues for a while that stripping no longer handles.\t3\tThese flannel wipes are OK  but in my opinion not worth keeping   I also ordered someImse Vimse Cloth Wipes Ocean Blue 12 countwhich are larger  had a nicer  softer texture and just seemed higher quality   I use cloth wipes for hands and faces and have been usingThirsties 6 Pack Fab Wipes  Boyfor about 8 months now and need to replace them because they are starting to get rough and have had stink issues for a while that stripping no longer handles \nPlanetwise Wipe Pouch\tit came early and was not disappointed. i love planet wise bags and now my wipe holder. it keps my osocozy wipes moist and does not leak. highly recommend it.\t5\tit came early and was not disappointed  i love planet wise bags and now my wipe holder  it keps my osocozy wipes moist and does not leak  highly recommend it \nAnnas Dream Full Quilt with 2 Shams\tVery soft and comfortable and warmer than it looks...fit the full size bed perfectly...would recommend to anyone looking for this type of quilt\t5\tVery soft and comfortable and warmer than it looks   fit the full size bed perfectly   would recommend to anyone looking for this type of quilt\nStop Pacifier Sucking without tears with Thumbuddy To Love's Binky Fairy Puppet and Adorable Book\tThis is a product well worth the purchase.  I have not found anything else like this, and it is a positive, ingenious approach to losing the binky.  What I love most about this product is how much ownership my daughter has in getting rid of the binky.  She is so proud of herself, and loves her little fairy.  I love the artwork, the chart in the back, and the clever approach of this tool.\t5\tThis is a product well worth the purchase   I have not found anything else like this  and it is a positive  ingenious approach to losing the binky   What I love most about this product is how much ownership my daughter has in getting rid of the binky   She is so proud of herself  and loves her little fairy   I love the artwork  the chart in the back  and the clever approach of this tool \nStop Pacifier Sucking without tears with Thumbuddy To Love's Binky Fairy Puppet and Adorable Book\tAll of my kids have cried non-stop when I tried to ween them off their pacifier, until I found Thumbuddy To Love's Binky Fairy Puppet.  It is an easy way to work with your kids to allow them to understand where their pacifier is going and help them part from it.This is a must buy book, and a great gift for expecting parents!!  You will save them soo many headaches.Thanks for this book!  You all rock!!\t5\tAll of my kids have cried non stop when I tried to ween them off their pacifier  until I found Thumbuddy To Love s Binky Fairy Puppet   It is an easy way to work with your kids to allow them to understand where their pacifier is going and help them part from it This is a must buy book  and a great gift for expecting parents    You will save them soo many headaches Thanks for this book   You all rock  \nStop Pacifier Sucking without tears with Thumbuddy To Love's Binky Fairy Puppet and Adorable Book\tWhen the Binky Fairy came to our house, we didn't have any special gift and book to help explain to her about how important it is to stop using a pacifier. This book does a great job to help prepare your child for the loss of their favorite item. The doll is adorable and we made lots of cute movies with the Binky Fairy telling our daughter about what happens when the Binky Fairy comes. I would highly recommend this product for any parent trying to break the pacifier or thumb sucking habit.\t5\tWhen the Binky Fairy came to our house  we didn t have any special gift and book to help explain to her about how important it is to stop using a pacifier  This book does a great job to help prepare your child for the loss of their favorite item  The doll is adorable and we made lots of cute movies with the Binky Fairy telling our daughter about what happens when the Binky Fairy comes  I would highly recommend this product for any parent trying to break the pacifier or thumb sucking habit \n"},"dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:203"},{"text":"%md\n# Create ML Pipeline\n\nNow we have all components for creating an initial ML Pipeline. Remember that we have been using the following components before\n\n* `Tokenizer` - for splitting reviews into words\n* `StopWordRemover` - for removing stop words\n* `NGram` - for creating n-grams (tuples of consecutive words)\n* `CountVectorizer` - for creating bag-of-word features from the words\n* `IDF` - for creating a TF-IDF model from the raw counts\n* `LogisticRegression` - for creating the real model\n\nYou also need to perform the following transforms:\n* The incoming rating (1-5) needs to be mapped to a sentiment (0 or 1) and you need to drop reviews with a rating of 3. This can be done using one ore more `SQLTransformer` instances. You may want to look that up in the Spark documentation (org.apache.spark.ml.feature.SQLTransformer).\n* The Punctuations need to be removed. This can be done using the `PunctuationRemovalTransfomer`.\n\nThe logical order of feature transformation should be\n1. Remove punctuations\n2. Create sentiment\n3. Tokenize text data\n4. Remove stop words\n5. Create Bi-Grams (N-Grams with two words each)\n6. Count words per review\n7. Create TF-IDF model\n","dateUpdated":"2017-02-26T10:45:35+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460878_529439071","id":"20170129-045307_120063111","result":{"code":"SUCCESS","type":"HTML","msg":"<div class=\"markdown-body\">\n<h1>Create ML Pipeline</h1>\n<p>Now we have all components for creating an initial ML Pipeline. Remember that we have been using the following components before</p>\n<ul>\n  <li><code>Tokenizer</code> - for splitting reviews into words</li>\n  <li><code>StopWordRemover</code> - for removing stop words</li>\n  <li><code>NGram</code> - for creating n-grams (tuples of consecutive words)</li>\n  <li><code>CountVectorizer</code> - for creating bag-of-word features from the words</li>\n  <li><code>IDF</code> - for creating a TF-IDF model from the raw counts</li>\n  <li><code>LogisticRegression</code> - for creating the real model</li>\n</ul>\n<p>You also need to perform the following transforms:<br/>* The incoming rating (1-5) needs to be mapped to a sentiment (0 or 1) and you need to drop reviews with a rating of 3. This can be done using one ore more <code>SQLTransformer</code> instances. You may want to look that up in the Spark documentation (org.apache.spark.ml.feature.SQLTransformer).<br/>* The Punctuations need to be removed. This can be done using the <code>PunctuationRemovalTransfomer</code>.</p>\n<p>The logical order of feature transformation should be<br/>1. Remove punctuations<br/>2. Create sentiment<br/>3. Tokenize text data<br/>4. Remove stop words<br/>5. Create Bi-Grams (N-Grams with two words each)<br/>6. Count words per review<br/>7. Create TF-IDF model</p>\n</div>"},"dateCreated":"2017-02-26T10:37:40+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:204","user":"anonymous","dateFinished":"2017-02-26T10:45:35+0000","dateStarted":"2017-02-26T10:45:35+0000"},{"text":"import org.apache.spark.ml.Pipeline\nimport org.apache.spark.ml.feature._\nimport org.apache.spark.ml.classification._\n\n// First let's define a list of stop words\nval stopWords = Array(\"the\",\"a\",\"and\",\"or\", \"it\", \"this\", \"of\", \"an\", \"as\", \"in\", \"on\", \"is\", \"are\", \"to\", \"was\", \"for\", \"then\", \"i\", \"my\", \"that\", \"with\", \"we\", \"have\", \"so\", \"you\", \"s\", \"\")\n\n// Now let's define an array of pipeline stages. Each stage (except the last one) is a transformer, and the last one if the LogisticRegression.\nval stages = Array(\n    new PunctuationCleanupTransformer()\n        .setInputCol(\"review\")\n        .setOutputCol(\"clean_review\"),\n    new SQLTransformer()\n        .setStatement(\"SELECT *,CASE WHEN rating < 3 THEN 0.0 ELSE 1.0 END AS sentiment FROM __THIS__ WHERE rating <> 3\"),\n    new Tokenizer()\n        .setInputCol(\"clean_review\")\n        .setOutputCol(\"words\"),\n    new StopWordsRemover()\n        .setInputCol(\"words\")\n        .setOutputCol(\"vwords\")\n        .setStopWords(stopWords),\n    new NGram()\n        .setInputCol(\"vwords\")\n        .setOutputCol(\"ngrams\")\n        .setN(2),\n    new CountVectorizer()\n        .setInputCol(\"ngrams\")\n        .setOutputCol(\"tf\")\n        .setMinDF(2.0),\n    new IDF()\n        .setInputCol(\"tf\")\n        .setOutputCol(\"features\"),\n    new LogisticRegression()\n        .setFeaturesCol(\"features\")\n        setLabelCol(\"sentiment\")\n)\nval pipe = new Pipeline().setStages(stages)","dateUpdated":"2017-02-26T10:44:20+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460879_529054322","id":"20170129-045329_2143290843","dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:205"},{"text":"%md\n## Fit Pipeline Model\n\nUsing training data, we create a PipelineModel by fitting the Pipeline to the data.\n","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460879_529054322","id":"20170129-045341_907324707","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>Fit Pipeline Model</h2>\n<p>Using training data, we create a PipelineModel by fitting the Pipeline to the data.</p>\n"},"dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:206"},{"text":"val model = pipe.fit(trainingData)","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","lineNumbers":false,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460880_539442542","id":"20170129-045351_1240420989","dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:207"},{"text":"%md\n## Predict Data\n\nLet us do some predictions of the test data using the model.\n","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460880_539442542","id":"20170129-045405_2130383484","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>Predict Data</h2>\n<p>Let us do some predictions of the test data using the model.</p>\n"},"dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:208"},{"text":"val pred = model.transform(validationData)\n\nz.show(pred.limit(10))","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460881_539057793","id":"20170129-045410_1701329257","result":{"code":"SUCCESS","type":"TABLE","msg":"name\treview\trating\tclean_review\tsentiment\twords\tvwords\tfeatures\trawPrediction\tprobability\tprediction\n\tBaby sleeps in this every single night. The velboa is just the softest, nicest fabric. I really prefer it to the fleece. It doesn't get as hot, and it's just softer. Perfect for baby.\t5\tBaby sleeps in this every single night  The velboa is just the softest  nicest fabric  I really prefer it to the fleece  It doesn t get as hot  and it s just softer  Perfect for baby \t1.0\tWrappedArray(baby, sleeps, in, this, every, single, night, , the, velboa, is, just, the, softest, , nicest, fabric, , i, really, prefer, it, to, the, fleece, , it, doesn, t, get, as, hot, , and, it, s, just, softer, , perfect, for, baby)\tWrappedArray(baby, sleeps, every, single, night, , the, velboa, just, the, softest, , nicest, fabric, , really, prefer, the, fleece, , doesn, t, get, hot, , s, just, softer, , perfect, baby)\t(26868,[0,1,8,10,13,25,44,51,96,115,154,173,326,506,772,773,881,1081,1514,3381,5565,13859],[6.0,3.0,1.0,1.0,2.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0])\t[-28.55486267804509,28.55486267804509]\t[3.969910422637298E-13,0.999999999999603]\t1.0\n\tI bought this stroller for my third child in 2007 and very glad that i did. i thought it was a little bit too much money to spend on a stroller because i've always owned graco travel systems(it was less money and you get an infant carseat), but i would always end up buying a new one after the first year because they seemed to break, we are a very busy family and always on the go so our strollers gets a lot of use. so when the last one broke, my baby was about 6 months, i went online and researched european strollers, i thought maybe i'd try a different kind to last me a little longer, the plastic parts on my graco strollers were the parts that broke. i've had the britax vigour for about 1 1/2 years and am now using it for 4th baby. the vigour is a bit on the heavy side when picking it up and bulky but thats all right i have a nissan quest van and it only takes me a few seconds to load it up.  it is very well constructed and it seems its going to last me a very long time ,might even be the last stroller i will ever purchase.my favorite part is the infinite recline and the seat that can face either forward or backwards. the adjustable handle works perfectly for both my husband and i. our family goes to sea world, aquatica, universal studios and disney at least every couple of months(we are passport holders, one advantage of living in florida)this stroller pushes soooooooo smoothly, i've also taken it to the beach and it also pushes through the sand without a problem because of the big rear wheels. the fabric is very easy to clean. i dont care for the chest harness and wish that they made it optional to remove.i refused to buy one of those heavy bulky double strollers so i purchased aValco Baby Hitch Hiker (Fits Twin)so my toddler can stand on it when going for our daily walk.(i have the jeep side by sideJeep Wrangler Twin Sport All-Weather Umbrella Stroller in Fiercethat i also keep in the car just in case my toddler is tired or asleep when we go somewhere.) the canopy doesnt really give much protection from the sun because its not adjustable so i purchased a ray shade(for both strollers) and it works well. and a plastic rain cover that i keep in the basket underneath just in case it rains. i also added one of those clip-on mommy organizerEddie Bauer Belt Bag Stroller Organizerto hold drinks and my cell phone and keys. and for quick trips, instead of me using a diaper bag, i purchased a saddle bagSkip Hop Saddle Bag-Black, which straps on perfectly on the side of the stroller. it holds the babies diapers and wipes, extra onesie, a bottle and the air pump for the tires. i also keep a couple of those hanging hook/clips on the handle when i bring my purse. I've also made a little thin pillow so when my baby is asleep, his head doesnt bump on the metal side of the seat.  its seems like i purchased a lot of other things to add on to this stroller but i dont regret it at all, these things make my busy life on the go with children a little bit easier. the way i see it, its like buying a car, they have the basic model and you can choose to add on other things to customize it according to your needs or liking. i i wish i would've purchased this a long time ago, BEST THING I EVER BOUGHT FOR ME AND MY BABY!\t5\tI bought this stroller for my third child in 2007 and very glad that i did  i thought it was a little bit too much money to spend on a stroller because i ve always owned graco travel systems it was less money and you get an infant carseat   but i would always end up buying a new one after the first year because they seemed to break  we are a very busy family and always on the go so our strollers gets a lot of use  so when the last one broke  my baby was about 6 months  i went online and researched european strollers  i thought maybe i d try a different kind to last me a little longer  the plastic parts on my graco strollers were the parts that broke  i ve had the britax vigour for about 1 1 2 years and am now using it for 4th baby  the vigour is a bit on the heavy side when picking it up and bulky but thats all right i have a nissan quest van and it only takes me a few seconds to load it up   it is very well constructed and it seems its going to last me a very long time  might even be the last stroller i will ever purchase my favorite part is the infinite recline and the seat that can face either forward or backwards  the adjustable handle works perfectly for both my husband and i  our family goes to sea world  aquatica  universal studios and disney at least every couple of months we are passport holders  one advantage of living in florida this stroller pushes soooooooo smoothly  i ve also taken it to the beach and it also pushes through the sand without a problem because of the big rear wheels  the fabric is very easy to clean  i dont care for the chest harness and wish that they made it optional to remove i refused to buy one of those heavy bulky double strollers so i purchased aValco Baby Hitch Hiker  Fits Twin so my toddler can stand on it when going for our daily walk  i have the jeep side by sideJeep Wrangler Twin Sport All Weather Umbrella Stroller in Fiercethat i also keep in the car just in case my toddler is tired or asleep when we go somewhere   the canopy doesnt really give much protection from the sun because its not adjustable so i purchased a ray shade for both strollers  and it works well  and a plastic rain cover that i keep in the basket underneath just in case it rains  i also added one of those clip on mommy organizerEddie Bauer Belt Bag Stroller Organizerto hold drinks and my cell phone and keys  and for quick trips  instead of me using a diaper bag  i purchased a saddle bagSkip Hop Saddle Bag Black  which straps on perfectly on the side of the stroller  it holds the babies diapers and wipes  extra onesie  a bottle and the air pump for the tires  i also keep a couple of those hanging hook clips on the handle when i bring my purse  I ve also made a little thin pillow so when my baby is asleep  his head doesnt bump on the metal side of the seat   its seems like i purchased a lot of other things to add on to this stroller but i dont regret it at all  these things make my busy life on the go with children a little bit easier  the way i see it  its like buying a car  they have the basic model and you can choose to add on other things to customize it according to your needs or liking  i i wish i would ve purchased this a long time ago  BEST THING I EVER BOUGHT FOR ME AND MY BABY \t1.0\tWrappedArray(i, bought, this, stroller, for, my, third, child, in, 2007, and, very, glad, that, i, did, , i, thought, it, was, a, little, bit, too, much, money, to, spend, on, a, stroller, because, i, ve, always, owned, graco, travel, systems, it, was, less, money, and, you, get, an, infant, carseat, , , but, i, would, always, end, up, buying, a, new, one, after, the, first, year, because, they, seemed, to, break, , we, are, a, very, busy, family, and, always, on, the, go, so, our, strollers, gets, a, lot, of, use, , so, when, the, last, one, broke, , my, baby, was, about, 6, months, , i, went, online, and, researched, european, strollers, , i, thought, maybe, i, d, try, a, different, kind, to, last, me, a, little, longer, , the, plastic, parts, on, my, graco, strollers, were, the, parts, that, broke, , i, ve, had, the, britax, vigour, for, about, 1, 1, 2, years, and, am, now, using, it, for, 4th, baby, , the, vigour, is, a, bit, on, the, heavy, side, when, picking, it, up, and, bulky, but, thats, all, right, i, have, a, nissan, quest, van, and, it, only, takes, me, a, few, seconds, to, load, it, up, , , it, is, very, well, constructed, and, it, seems, its, going, to, last, me, a, very, long, time, , might, even, be, the, last, stroller, i, will, ever, purchase, my, favorite, part, is, the, infinite, recline, and, the, seat, that, can, face, either, forward, or, backwards, , the, adjustable, handle, works, perfectly, for, both, my, husband, and, i, , our, family, goes, to, sea, world, , aquatica, , universal, studios, and, disney, at, least, every, couple, of, months, we, are, passport, holders, , one, advantage, of, living, in, florida, this, stroller, pushes, soooooooo, smoothly, , i, ve, also, taken, it, to, the, beach, and, it, also, pushes, through, the, sand, without, a, problem, because, of, the, big, rear, wheels, , the, fabric, is, very, easy, to, clean, , i, dont, care, for, the, chest, harness, and, wish, that, they, made, it, optional, to, remove, i, refused, to, buy, one, of, those, heavy, bulky, double, strollers, so, i, purchased, avalco, baby, hitch, hiker, , fits, twin, so, my, toddler, can, stand, on, it, when, going, for, our, daily, walk, , i, have, the, jeep, side, by, sidejeep, wrangler, twin, sport, all, weather, umbrella, stroller, in, fiercethat, i, also, keep, in, the, car, just, in, case, my, toddler, is, tired, or, asleep, when, we, go, somewhere, , , the, canopy, doesnt, really, give, much, protection, from, the, sun, because, its, not, adjustable, so, i, purchased, a, ray, shade, for, both, strollers, , and, it, works, well, , and, a, plastic, rain, cover, that, i, keep, in, the, basket, underneath, just, in, case, it, rains, , i, also, added, one, of, those, clip, on, mommy, organizereddie, bauer, belt, bag, stroller, organizerto, hold, drinks, and, my, cell, phone, and, keys, , and, for, quick, trips, , instead, of, me, using, a, diaper, bag, , i, purchased, a, saddle, bagskip, hop, saddle, bag, black, , which, straps, on, perfectly, on, the, side, of, the, stroller, , it, holds, the, babies, diapers, and, wipes, , extra, onesie, , a, bottle, and, the, air, pump, for, the, tires, , i, also, keep, a, couple, of, those, hanging, hook, clips, on, the, handle, when, i, bring, my, purse, , i, ve, also, made, a, little, thin, pillow, so, when, my, baby, is, asleep, , his, head, doesnt, bump, on, the, metal, side, of, the, seat, , , its, seems, like, i, purchased, a, lot, of, other, things, to, add, on, to, this, stroller, but, i, dont, regret, it, at, all, , these, things, make, my, busy, life, on, the, go, with, children, a, little, bit, easier, , the, way, i, see, it, , its, like, buying, a, car, , they, have, the, basic, model, and, you, can, choose, to, add, on, other, things, to, customize, it, according, to, your, needs, or, liking, , i, i, wish, i, would, ve, purchased, this, a, long, time, ago, , best, thing, i, ever, bought, for, me, and, my, baby)\tWrappedArray(bought, stroller, my, third, child, 2007, very, glad, that, did, , thought, little, bit, too, much, money, spend, stroller, because, ve, always, owned, graco, travel, systems, less, money, you, get, infant, carseat, , , but, would, always, end, up, buying, new, one, after, the, first, year, because, they, seemed, break, , we, very, busy, family, always, the, go, so, our, strollers, gets, lot, use, , so, when, the, last, one, broke, , my, baby, about, 6, months, , went, online, researched, european, strollers, , thought, maybe, d, try, different, kind, last, me, little, longer, , the, plastic, parts, my, graco, strollers, were, the, parts, that, broke, , ve, had, the, britax, vigour, about, 1, 1, 2, years, am, now, using, 4th, baby, , the, vigour, bit, the, heavy, side, when, picking, up, bulky, but, thats, all, right, have, nissan, quest, van, only, takes, me, few, seconds, load, up, , , very, well, constructed, seems, its, going, last, me, very, long, time, , might, even, be, the, last, stroller, will, ever, purchase, my, favorite, part, the, infinite, recline, the, seat, that, can, face, either, forward, backwards, , the, adjustable, handle, works, perfectly, both, my, husband, , our, family, goes, sea, world, , aquatica, , universal, studios, disney, at, least, every, couple, months, we, passport, holders, , one, advantage, living, florida, stroller, pushes, soooooooo, smoothly, , ve, also, taken, the, beach, also, pushes, through, the, sand, without, problem, because, the, big, rear, wheels, , the, fabric, very, easy, clean, , dont, care, the, chest, harness, wish, that, they, made, optional, remove, refused, buy, one, those, heavy, bulky, double, strollers, so, purchased, avalco, baby, hitch, hiker, , fits, twin, so, my, toddler, can, stand, when, going, our, daily, walk, , have, the, jeep, side, by, sidejeep, wrangler, twin, sport, all, weather, umbrella, stroller, fiercethat, also, keep, the, car, just, case, my, toddler, tired, asleep, when, we, go, somewhere, , , the, canopy, doesnt, really, give, much, protection, from, the, sun, because, its, not, adjustable, so, purchased, ray, shade, both, strollers, , works, well, , plastic, rain, cover, that, keep, the, basket, underneath, just, case, rains, , also, added, one, those, clip, mommy, organizereddie, bauer, belt, bag, stroller, organizerto, hold, drinks, my, cell, phone, keys, , quick, trips, , instead, me, using, diaper, bag, , purchased, saddle, bagskip, hop, saddle, bag, black, , which, straps, perfectly, the, side, the, stroller, , holds, the, babies, diapers, wipes, , extra, onesie, , bottle, the, air, pump, the, tires, , also, keep, couple, those, hanging, hook, clips, the, handle, when, bring, my, purse, , ve, also, made, little, thin, pillow, so, when, my, baby, asleep, , his, head, doesnt, bump, the, metal, side, the, seat, , , its, seems, like, purchased, lot, other, things, add, stroller, but, dont, regret, at, all, , these, things, make, my, busy, life, the, go, with, children, little, bit, easier, , the, way, see, , its, like, buying, car, , they, have, the, basic, model, you, can, choose, add, other, things, customize, according, your, needs, liking, , wish, would, ve, purchased, long, time, ago, , best, thing, ever, bought, me, my, baby)\t(26868,[0,1,2,3,4,5,6,7,9,11,12,13,14,15,16,18,19,20,23,24,25,26,27,28,30,31,33,34,38,40,41,43,44,45,46,47,49,51,52,53,54,56,57,59,62,64,66,69,70,71,73,75,76,77,80,82,83,86,88,93,97,102,109,110,113,116,117,121,122,124,126,129,130,134,135,141,143,144,147,151,152,153,154,155,158,159,160,165,167,168,172,177,178,184,186,190,194,195,202,204,206,209,211,216,223,226,227,234,236,238,245,252,254,264,265,266,271,273,275,277,279,281,282,284,288,294,297,298,307,315,326,330,342,343,347,357,363,367,372,383,386,404,422,427,434,437,438,439,440,443,444,447,448,461,479,481,498,507,508,512,514,521,523,526,565,567,568,580,587,607,609,619,624,630,666,672,675,676,690,694,704,707,710,726,738,741,747,756,785,809,818,824,827,871,912,916,920,934,940,950,964,983,989,994,1011,1018,1035,1040,1045,1052,1060,1067,1074,1187,1194,1232,1254,1300,1329,1356,1376,1379,1389,1434,1469,1484,1560,1597,1728,1825,1827,1849,1887,1916,1917,1927,2004,2175,2234,2290,2354,2417,2467,2487,2558,2567,2751,2872,2959,3189,3277,3311,3326,3339,3462,3727,3855,3959,4051,4835,4991,5065,5518,5899,7950,8280,8344,8394,10770,11875,12124,17601,20010,20621],[47.0,33.0,12.0,5.0,1.0,3.0,3.0,3.0,6.0,1.0,2.0,5.0,3.0,5.0,5.0,6.0,3.0,1.0,2.0,2.0,2.0,3.0,1.0,1.0,3.0,3.0,2.0,1.0,1.0,4.0,2.0,2.0,1.0,1.0,1.0,1.0,4.0,1.0,6.0,2.0,2.0,2.0,1.0,2.0,2.0,1.0,5.0,2.0,1.0,1.0,1.0,1.0,1.0,8.0,1.0,2.0,1.0,1.0,1.0,3.0,2.0,1.0,5.0,1.0,2.0,3.0,1.0,3.0,1.0,1.0,1.0,2.0,4.0,1.0,1.0,1.0,1.0,1.0,1.0,5.0,1.0,1.0,1.0,1.0,1.0,1.0,4.0,2.0,2.0,2.0,1.0,3.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,2.0,1.0,2.0,2.0,2.0,1.0,1.0,2.0,1.0,2.0,3.0,1.0,3.0,1.0,2.0,2.0,1.0,1.0,1.0,1.0,1.0,4.0,1.0,1.0,1.0,1.0,1.0,1.0,3.0,1.0,1.0,1.0,2.0,1.0,1.0,2.0,2.0,1.0,1.0,1.0,1.0,1.0,2.0,2.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,2.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,2.0,2.0,1.0,1.0,1.0,5.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0])\t[-202.23744940082415,202.23744940082415]\t[1.4770380762253686E-88,1.0]\t1.0\n\tI needed to find a really cute gender neutral bedding set, and this one is perfect!  The colors are great, the animals are so cute, and there are so many different textures of material.  It is very high quality. I not only have the bedding set but also the laundry hamper, the lamp shade and the wall hangings.  My daughter loves staring at all the animals,especially the panda bear.  Great product.\t5\tI needed to find a really cute gender neutral bedding set  and this one is perfect   The colors are great  the animals are so cute  and there are so many different textures of material   It is very high quality  I not only have the bedding set but also the laundry hamper  the lamp shade and the wall hangings   My daughter loves staring at all the animals especially the panda bear   Great product \t1.0\tWrappedArray(i, needed, to, find, a, really, cute, gender, neutral, bedding, set, , and, this, one, is, perfect, , , the, colors, are, great, , the, animals, are, so, cute, , and, there, are, so, many, different, textures, of, material, , , it, is, very, high, quality, , i, not, only, have, the, bedding, set, but, also, the, laundry, hamper, , the, lamp, shade, and, the, wall, hangings, , , my, daughter, loves, staring, at, all, the, animals, especially, the, panda, bear, , , great, product)\tWrappedArray(needed, find, really, cute, gender, neutral, bedding, set, , one, perfect, , , the, colors, great, , the, animals, so, cute, , there, so, many, different, textures, material, , , very, high, quality, , not, only, have, the, bedding, set, but, also, the, laundry, hamper, , the, lamp, shade, the, wall, hangings, , , my, daughter, loves, staring, at, all, the, animals, especially, the, panda, bear, , , great, product)\t(26868,[0,1,2,6,7,9,11,15,16,17,24,30,45,48,51,52,63,65,72,96,132,146,156,189,190,193,241,251,255,325,341,466,786,854,920,1075,1267,1458,1698,1815,1854,1863,3662,5561,5782],[13.0,8.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0])\t[-59.04936223933558,59.04936223933558]\t[2.265623911251236E-26,1.0]\t1.0\n\tI tried the childproof locks that you reach in and press down to undo. Very low tech.  Unfortunately my cupboards are not flush and built close together so I could barely reach in to press the lever down.  I pinched my fingers every time.  Also, the my dog would yank on the cupboard so hard, he could disengage it.  (100lb smart black lab with a food issue).  Once I put these on, my issues were gone.  I had to use the screws for extra security but neither the kids nor the dog have gotten back into the cupboard and it looks great.  I just keep the key on the fridge.  Just did the rest of the cupboards\t5\tI tried the childproof locks that you reach in and press down to undo  Very low tech   Unfortunately my cupboards are not flush and built close together so I could barely reach in to press the lever down   I pinched my fingers every time   Also  the my dog would yank on the cupboard so hard  he could disengage it    100lb smart black lab with a food issue    Once I put these on  my issues were gone   I had to use the screws for extra security but neither the kids nor the dog have gotten back into the cupboard and it looks great   I just keep the key on the fridge   Just did the rest of the cupboards\t1.0\tWrappedArray(i, tried, the, childproof, locks, that, you, reach, in, and, press, down, to, undo, , very, low, tech, , , unfortunately, my, cupboards, are, not, flush, and, built, close, together, so, i, could, barely, reach, in, to, press, the, lever, down, , , i, pinched, my, fingers, every, time, , , also, , the, my, dog, would, yank, on, the, cupboard, so, hard, , he, could, disengage, it, , , , 100lb, smart, black, lab, with, a, food, issue, , , , once, i, put, these, on, , my, issues, were, gone, , , i, had, to, use, the, screws, for, extra, security, but, neither, the, kids, nor, the, dog, have, gotten, back, into, the, cupboard, and, it, looks, great, , , i, just, keep, the, key, on, the, fridge, , , just, did, the, rest, of, the, cupboards)\tWrappedArray(tried, the, childproof, locks, that, you, reach, press, down, undo, , very, low, tech, , , unfortunately, my, cupboards, not, flush, built, close, together, so, could, barely, reach, press, the, lever, down, , , pinched, my, fingers, every, time, , , also, , the, my, dog, would, yank, the, cupboard, so, hard, , he, could, disengage, , , , 100lb, smart, black, lab, with, food, issue, , , , once, put, these, , my, issues, were, gone, , , had, use, the, screws, extra, security, but, neither, the, kids, nor, the, dog, have, gotten, back, into, the, cupboard, looks, great, , , just, keep, the, key, the, fridge, , , just, did, the, rest, the, cupboards)\t(26868,[0,1,2,3,4,6,7,9,11,12,16,17,21,23,25,27,28,34,52,53,67,78,86,101,120,121,122,125,154,180,185,188,198,220,248,272,281,398,424,490,636,643,660,738,815,819,834,935,1017,1030,1032,1124,1278,1437,1573,1626,1739,2122,2187,2257,2688,2969,3287,3513,3827,4904,5124,6062,6862,7145,10659,15435],[22.0,12.0,4.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,2.0,1.0,1.0])\t[11.60617870748371,-11.60617870748371]\t[0.9999908904552186,9.109544781234097E-6]\t0.0\n\tInitially, I bought this 4 pack of locks, and the set that has the key and 2 locks. I installed them right away, never thinking to check each lock before I did. Out of my 6 locks, 2 worked properly, 2 would lock as long as I used to the key to lock them from the outside, and 2 didn't lock at all, no matter what I did. I returned the 4 that didn't work and ordered a new set of 4 because I really liked the way the working locks worked.This time, my new set of 4 was fully functional. It was a pain to remove all the sticky residue from my cabinets so I could reinstall my new locks, but it was worth it. For almost 2.5 months, I had locked cabinets. They unlocked easily with the key, and when I closed the cabinet, the lock would reengage. I was a happy mommy.Over the past two weeks, every single one of my locks has stopped working. No matter what I do, the lock will not engage. The moving part is floppy, and keeps falling into the unlocked position. I cannot even use the key to engage the lock from the outside.I do not have a lot of double cabinets, so these locks were an ideal solution. Now I have no way of keeping my toddler out of my cabinets and I feel like I've wasted money buying expensive locks.\t1\tInitially  I bought this 4 pack of locks  and the set that has the key and 2 locks  I installed them right away  never thinking to check each lock before I did  Out of my 6 locks  2 worked properly  2 would lock as long as I used to the key to lock them from the outside  and 2 didn t lock at all  no matter what I did  I returned the 4 that didn t work and ordered a new set of 4 because I really liked the way the working locks worked This time  my new set of 4 was fully functional  It was a pain to remove all the sticky residue from my cabinets so I could reinstall my new locks  but it was worth it  For almost 2 5 months  I had locked cabinets  They unlocked easily with the key  and when I closed the cabinet  the lock would reengage  I was a happy mommy Over the past two weeks  every single one of my locks has stopped working  No matter what I do  the lock will not engage  The moving part is floppy  and keeps falling into the unlocked position  I cannot even use the key to engage the lock from the outside I do not have a lot of double cabinets  so these locks were an ideal solution  Now I have no way of keeping my toddler out of my cabinets and I feel like I ve wasted money buying expensive locks \t0.0\tWrappedArray(initially, , i, bought, this, 4, pack, of, locks, , and, the, set, that, has, the, key, and, 2, locks, , i, installed, them, right, away, , never, thinking, to, check, each, lock, before, i, did, , out, of, my, 6, locks, , 2, worked, properly, , 2, would, lock, as, long, as, i, used, to, the, key, to, lock, them, from, the, outside, , and, 2, didn, t, lock, at, all, , no, matter, what, i, did, , i, returned, the, 4, that, didn, t, work, and, ordered, a, new, set, of, 4, because, i, really, liked, the, way, the, working, locks, worked, this, time, , my, new, set, of, 4, was, fully, functional, , it, was, a, pain, to, remove, all, the, sticky, residue, from, my, cabinets, so, i, could, reinstall, my, new, locks, , but, it, was, worth, it, , for, almost, 2, 5, months, , i, had, locked, cabinets, , they, unlocked, easily, with, the, key, , and, when, i, closed, the, cabinet, , the, lock, would, reengage, , i, was, a, happy, mommy, over, the, past, two, weeks, , every, single, one, of, my, locks, has, stopped, working, , no, matter, what, i, do, , the, lock, will, not, engage, , the, moving, part, is, floppy, , and, keeps, falling, into, the, unlocked, position, , i, cannot, even, use, the, key, to, engage, the, lock, from, the, outside, i, do, not, have, a, lot, of, double, cabinets, , so, these, locks, were, an, ideal, solution, , now, i, have, no, way, of, keeping, my, toddler, out, of, my, cabinets, and, i, feel, like, i, ve, wasted, money, buying, expensive, locks)\tWrappedArray(initially, , bought, 4, pack, locks, , the, set, that, has, the, key, 2, locks, , installed, them, right, away, , never, thinking, check, each, lock, before, did, , out, my, 6, locks, , 2, worked, properly, , 2, would, lock, long, used, the, key, lock, them, from, the, outside, , 2, didn, t, lock, at, all, , no, matter, what, did, , returned, the, 4, that, didn, t, work, ordered, new, set, 4, because, really, liked, the, way, the, working, locks, worked, time, , my, new, set, 4, fully, functional, , pain, remove, all, the, sticky, residue, from, my, cabinets, so, could, reinstall, my, new, locks, , but, worth, , almost, 2, 5, months, , had, locked, cabinets, , they, unlocked, easily, with, the, key, , when, closed, the, cabinet, , the, lock, would, reengage, , happy, mommy, over, the, past, two, weeks, , every, single, one, my, locks, has, stopped, working, , no, matter, what, do, , the, lock, will, not, engage, , the, moving, part, floppy, , keeps, falling, into, the, unlocked, position, , cannot, even, use, the, key, engage, the, lock, from, the, outside, do, not, have, lot, double, cabinets, , so, these, locks, were, ideal, solution, , now, have, no, way, keeping, my, toddler, out, my, cabinets, feel, like, ve, wasted, money, buying, expensive, locks)\t(26868,[0,1,2,3,4,6,7,8,9,11,14,15,18,23,24,27,28,29,30,32,33,34,39,46,47,49,51,53,54,58,64,69,71,74,76,79,86,89,90,94,101,109,119,120,122,126,131,136,142,147,148,153,154,156,161,163,167,168,174,181,204,223,260,263,265,277,278,280,283,292,308,327,330,335,375,428,510,526,543,546,580,593,615,665,705,736,773,779,795,817,821,822,842,868,870,882,994,1055,1058,1126,1143,1278,1375,1687,1731,1739,1784,1986,2013,2056,3353,3889,5597,5728,7932],[27.0,18.0,7.0,2.0,1.0,2.0,1.0,2.0,2.0,2.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,2.0,2.0,2.0,1.0,1.0,2.0,3.0,1.0,1.0,1.0,1.0,1.0,3.0,1.0,1.0,5.0,2.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,2.0,1.0,2.0,4.0,3.0,1.0,1.0,1.0,3.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,7.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,8.0,1.0,1.0,1.0,4.0,1.0,4.0,1.0,1.0,1.0,1.0,2.0,2.0,1.0])\t[-20.82438560737167,20.82438560737167]\t[9.038247741083904E-10,0.9999999990961752]\t1.0\n\tThe hospital that we delivered at sent a microfleece sleepsack home with us, and I thought we would never use it. Little did I know....we have used one every single night since we brought our daughter home. When she started to outgrow that one I knew I had to find another. After reading reviews, I decided on the Velboa. It is wonderful! Not too heavy or hot. It is really soft and washes well. I definitely recommend this wonderful product!\t5\tThe hospital that we delivered at sent a microfleece sleepsack home with us  and I thought we would never use it  Little did I know    we have used one every single night since we brought our daughter home  When she started to outgrow that one I knew I had to find another  After reading reviews  I decided on the Velboa  It is wonderful  Not too heavy or hot  It is really soft and washes well  I definitely recommend this wonderful product \t1.0\tWrappedArray(the, hospital, that, we, delivered, at, sent, a, microfleece, sleepsack, home, with, us, , and, i, thought, we, would, never, use, it, , little, did, i, know, , , , we, have, used, one, every, single, night, since, we, brought, our, daughter, home, , when, she, started, to, outgrow, that, one, i, knew, i, had, to, find, another, , after, reading, reviews, , i, decided, on, the, velboa, , it, is, wonderful, , not, too, heavy, or, hot, , it, is, really, soft, and, washes, well, , i, definitely, recommend, this, wonderful, product)\tWrappedArray(the, hospital, that, we, delivered, at, sent, microfleece, sleepsack, home, with, us, , thought, we, would, never, use, , little, did, know, , , , we, have, used, one, every, single, night, since, we, brought, our, daughter, home, , when, she, started, outgrow, that, one, knew, had, find, another, , after, reading, reviews, , decided, the, velboa, , wonderful, , not, too, heavy, hot, , really, soft, washes, well, , definitely, recommend, wonderful, product)\t(26868,[0,1,3,4,5,6,11,15,18,22,23,24,27,31,34,40,43,48,51,57,63,73,79,84,118,122,128,154,169,171,173,174,191,193,221,233,236,285,296,378,404,425,506,699,734,773,828,830,845,1294,1722,2513,2575,6120,13859],[12.0,2.0,2.0,1.0,4.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0])\t[-9.23608990132206,9.23608990132206]\t[9.744841913225461E-5,0.9999025515808678]\t1.0\n\tThey show these being used on a cabinet, but I disagree. The lock has a straight shaft, causing the latch to not properly align with the locking mechanism - on a cabinet the end of the door is swinging in an arc and the straight shaft catches the edge of the lock everytime.  This is especially true for small cabinet doors (less than 12&#34; across), as in these the ratio of latch shaft length to door arc is higher. Many of these have now ripped loose and no longer function.  Maybe better for a drawer where the motion is straight in and out.\t2\tThey show these being used on a cabinet  but I disagree  The lock has a straight shaft  causing the latch to not properly align with the locking mechanism   on a cabinet the end of the door is swinging in an arc and the straight shaft catches the edge of the lock everytime   This is especially true for small cabinet doors  less than 12  34  across   as in these the ratio of latch shaft length to door arc is higher  Many of these have now ripped loose and no longer function   Maybe better for a drawer where the motion is straight in and out \t0.0\tWrappedArray(they, show, these, being, used, on, a, cabinet, , but, i, disagree, , the, lock, has, a, straight, shaft, , causing, the, latch, to, not, properly, align, with, the, locking, mechanism, , , on, a, cabinet, the, end, of, the, door, is, swinging, in, an, arc, and, the, straight, shaft, catches, the, edge, of, the, lock, everytime, , , this, is, especially, true, for, small, cabinet, doors, , less, than, 12, , 34, , across, , , as, in, these, the, ratio, of, latch, shaft, length, to, door, arc, is, higher, , many, of, these, have, now, ripped, loose, and, no, longer, function, , , maybe, better, for, a, drawer, where, the, motion, is, straight, in, and, out)\tWrappedArray(they, show, these, being, used, cabinet, , but, disagree, , the, lock, has, straight, shaft, , causing, the, latch, not, properly, align, with, the, locking, mechanism, , , cabinet, the, end, the, door, swinging, arc, the, straight, shaft, catches, the, edge, the, lock, everytime, , , especially, true, small, cabinet, doors, , less, than, 12, , 34, , across, , , these, the, ratio, latch, shaft, length, door, arc, higher, , many, these, have, now, ripped, loose, no, longer, function, , , maybe, better, drawer, where, the, motion, straight, out)\t(26868,[0,1,4,6,7,11,14,28,29,39,58,61,64,79,123,138,150,189,214,256,307,341,363,444,451,481,612,705,782,795,841,913,966,978,1012,1056,1175,1198,1308,1342,1392,1507,1677,1682,1784,1874,1918,2154,2161,2162,4324,5218,9319,12162,12712],[15.0,10.0,1.0,1.0,1.0,1.0,1.0,3.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,2.0,2.0,1.0,1.0,1.0,1.0,3.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,3.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,3.0,1.0])\t[99.28174120029324,-99.28174120029324]\t[1.0,7.629351829645E-44]\t0.0\n\tThis item looks very good and I was going to order it until I looked at the description which says it measures 1\"\" by 1\"\" inch.  this is obviously an error and needs to be corrected if it is going to sell.  I would order it if I need the accurate dimensions.\t1\tThis item looks very good and I was going to order it until I looked at the description which says it measures 1   by 1   inch   this is obviously an error and needs to be corrected if it is going to sell   I would order it if I need the accurate dimensions \t0.0\tWrappedArray(this, item, looks, very, good, and, i, was, going, to, order, it, until, i, looked, at, the, description, which, says, it, measures, 1, , , by, 1, , , inch, , , this, is, obviously, an, error, and, needs, to, be, corrected, if, it, is, going, to, sell, , , i, would, order, it, if, i, need, the, accurate, dimensions)\tWrappedArray(item, looks, very, good, going, order, until, looked, at, the, description, which, says, measures, 1, , , by, 1, , , inch, , , obviously, error, needs, be, corrected, if, going, sell, , , would, order, if, need, the, accurate, dimensions)\t(26868,[0,1,16,20,23,24,37,60,80,110,139,165,188,211,213,291,408,437,460,685,1047,1355,1367,1596,1716,2645,2809,5490,6083],[8.0,2.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,2.0,1.0,2.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0])\t[14.44172631598288,-14.44172631598288]\t[0.9999994653892101,5.346107897523857E-7]\t0.0\n\tWe have been housesitting for a couple who installed these locks for us.  They are wonderful!  The doors to the cabinets stay tightly shut (almost sealed) so there are no mashed fingers and no frustrations from being able to see just far enough inside to provoke more curiosity.  They are easy to open when you want to release the magnet.  We're getting ready to go back to our own home and I'm going to order a slew of them.\t5\tWe have been housesitting for a couple who installed these locks for us   They are wonderful   The doors to the cabinets stay tightly shut  almost sealed  so there are no mashed fingers and no frustrations from being able to see just far enough inside to provoke more curiosity   They are easy to open when you want to release the magnet   We re getting ready to go back to our own home and I m going to order a slew of them \t1.0\tWrappedArray(we, have, been, housesitting, for, a, couple, who, installed, these, locks, for, us, , , they, are, wonderful, , , the, doors, to, the, cabinets, stay, tightly, shut, , almost, sealed, , so, there, are, no, mashed, fingers, and, no, frustrations, from, being, able, to, see, just, far, enough, inside, to, provoke, more, curiosity, , , they, are, easy, to, open, when, you, want, to, release, the, magnet, , , we, re, getting, ready, to, go, back, to, our, own, home, and, i, m, going, to, order, a, slew, of, them)\tWrappedArray(we, have, been, housesitting, couple, who, installed, these, locks, us, , , they, wonderful, , , the, doors, the, cabinets, stay, tightly, shut, , almost, sealed, , so, there, no, mashed, fingers, no, frustrations, from, being, able, see, just, far, enough, inside, provoke, more, curiosity, , , they, easy, open, when, you, want, release, the, magnet, , , we, re, getting, ready, go, back, our, own, home, m, going, order, slew, them)\t(26868,[0,1,5,6,9,12,14,18,25,28,31,32,38,46,50,58,65,78,92,100,112,116,162,164,171,172,183,197,210,211,214,217,262,278,296,301,332,357,361,408,425,668,779,1030,1278,1315,1342,1654,1753,1986,2960,3010,6446,7087,8926,16236],[10.0,3.0,2.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0])\t[8.441275757700048,-8.441275757700048]\t[0.9997842718502956,2.157281497045275E-4]\t0.0\n\tWhat the previous reviewer didn't realize is that there are 2 different packaging options for this item. The first option is a pack that contains 1 key and 2 locks for people who want to try it out and the second option is to buy the pack that contains 4 locks but no key for those who already bought the starter kit and happened to like the product. So make sure you really read the description of what you're getting if you're buying online. (This one happens do be the 4 locks with no key so you might want to try the starter kit first...I actually rec. it because UNFORTUNATELY the lock doesn't work with all situations because of draw designs) Then on top of that Kidco also sells the key seperately with no locks for those who have the product, love it, and happened to misplace or lose their key OR want to purchase an additional incase they ever lose the 1st key. I will admit that I think it's pretty lame for a company to try to squeeze every penny out of you especially when it probaby only costs 5 cents to make the darn key and especially when you're dealing with child safety products. As far as how well the product works...I LOVE IT and wish it had worked out better with all my draw situations! It's especially great for those cabinet doors that stand alone and don't have another door next to it where you can just buy one of those wrap around door knob locks that require 2 knobs to be side by side. I didn't have as great of luck with my kitchen draws because the draw panel is added on to the actual draw so it isn't flush with where you put the catch. I put 5 stars to bring the rating up because the last reviewer only gave one and it's actually a great product. I know it will outsmart my baby far beyond any cheaper options out there. I installed them with the adhesive tape that comes with it but I plan on reattaching it with the screws also included because I personally feel that the screws will do a better job AND because I love my child more than my freaking cabinet doors for all those worried about messing up your precious wood cabinets...I mean give me a break...the holes are so small anyway and it's totally concealed, only you will know it's there. ALSO, this locks so tight that little fingers/hands can't reach inside small openings (which usually occures with the other types of locks) and pull stuff out. And also there's an option to turn the lock off for in between kids. DEFINITELY CONSIDER THIS PRODUCT!!!!!\t5\tWhat the previous reviewer didn t realize is that there are 2 different packaging options for this item  The first option is a pack that contains 1 key and 2 locks for people who want to try it out and the second option is to buy the pack that contains 4 locks but no key for those who already bought the starter kit and happened to like the product  So make sure you really read the description of what you re getting if you re buying online   This one happens do be the 4 locks with no key so you might want to try the starter kit first   I actually rec  it because UNFORTUNATELY the lock doesn t work with all situations because of draw designs  Then on top of that Kidco also sells the key seperately with no locks for those who have the product  love it  and happened to misplace or lose their key OR want to purchase an additional incase they ever lose the 1st key  I will admit that I think it s pretty lame for a company to try to squeeze every penny out of you especially when it probaby only costs 5 cents to make the darn key and especially when you re dealing with child safety products  As far as how well the product works   I LOVE IT and wish it had worked out better with all my draw situations  It s especially great for those cabinet doors that stand alone and don t have another door next to it where you can just buy one of those wrap around door knob locks that require 2 knobs to be side by side  I didn t have as great of luck with my kitchen draws because the draw panel is added on to the actual draw so it isn t flush with where you put the catch  I put 5 stars to bring the rating up because the last reviewer only gave one and it s actually a great product  I know it will outsmart my baby far beyond any cheaper options out there  I installed them with the adhesive tape that comes with it but I plan on reattaching it with the screws also included because I personally feel that the screws will do a better job AND because I love my child more than my freaking cabinet doors for all those worried about messing up your precious wood cabinets   I mean give me a break   the holes are so small anyway and it s totally concealed  only you will know it s there  ALSO  this locks so tight that little fingers hands can t reach inside small openings  which usually occures with the other types of locks  and pull stuff out  And also there s an option to turn the lock off for in between kids  DEFINITELY CONSIDER THIS PRODUCT     \t1.0\tWrappedArray(what, the, previous, reviewer, didn, t, realize, is, that, there, are, 2, different, packaging, options, for, this, item, , the, first, option, is, a, pack, that, contains, 1, key, and, 2, locks, for, people, who, want, to, try, it, out, and, the, second, option, is, to, buy, the, pack, that, contains, 4, locks, but, no, key, for, those, who, already, bought, the, starter, kit, and, happened, to, like, the, product, , so, make, sure, you, really, read, the, description, of, what, you, re, getting, if, you, re, buying, online, , , this, one, happens, do, be, the, 4, locks, with, no, key, so, you, might, want, to, try, the, starter, kit, first, , , i, actually, rec, , it, because, unfortunately, the, lock, doesn, t, work, with, all, situations, because, of, draw, designs, , then, on, top, of, that, kidco, also, sells, the, key, seperately, with, no, locks, for, those, who, have, the, product, , love, it, , and, happened, to, misplace, or, lose, their, key, or, want, to, purchase, an, additional, incase, they, ever, lose, the, 1st, key, , i, will, admit, that, i, think, it, s, pretty, lame, for, a, company, to, try, to, squeeze, every, penny, out, of, you, especially, when, it, probaby, only, costs, 5, cents, to, make, the, darn, key, and, especially, when, you, re, dealing, with, child, safety, products, , as, far, as, how, well, the, product, works, , , i, love, it, and, wish, it, had, worked, out, better, with, all, my, draw, situations, , it, s, especially, great, for, those, cabinet, doors, that, stand, alone, and, don, t, have, another, door, next, to, it, where, you, can, just, buy, one, of, those, wrap, around, door, knob, locks, that, require, 2, knobs, to, be, side, by, side, , i, didn, t, have, as, great, of, luck, with, my, kitchen, draws, because, the, draw, panel, is, added, on, to, the, actual, draw, so, it, isn, t, flush, with, where, you, put, the, catch, , i, put, 5, stars, to, bring, the, rating, up, because, the, last, reviewer, only, gave, one, and, it, s, actually, a, great, product, , i, know, it, will, outsmart, my, baby, far, beyond, any, cheaper, options, out, there, , i, installed, them, with, the, adhesive, tape, that, comes, with, it, but, i, plan, on, reattaching, it, with, the, screws, also, included, because, i, personally, feel, that, the, screws, will, do, a, better, job, and, because, i, love, my, child, more, than, my, freaking, cabinet, doors, for, all, those, worried, about, messing, up, your, precious, wood, cabinets, , , i, mean, give, me, a, break, , , the, holes, are, so, small, anyway, and, it, s, totally, concealed, , only, you, will, know, it, s, there, , also, , this, locks, so, tight, that, little, fingers, hands, can, t, reach, inside, small, openings, , which, usually, occures, with, the, other, types, of, locks, , and, pull, stuff, out, , and, also, there, s, an, option, to, turn, the, lock, off, for, in, between, kids, , definitely, consider, this, product)\tWrappedArray(what, the, previous, reviewer, didn, t, realize, that, there, 2, different, packaging, options, item, , the, first, option, pack, that, contains, 1, key, 2, locks, people, who, want, try, out, the, second, option, buy, the, pack, that, contains, 4, locks, but, no, key, those, who, already, bought, the, starter, kit, happened, like, the, product, , so, make, sure, you, really, read, the, description, what, you, re, getting, if, you, re, buying, online, , , one, happens, do, be, the, 4, locks, with, no, key, so, you, might, want, try, the, starter, kit, first, , , actually, rec, , because, unfortunately, the, lock, doesn, t, work, with, all, situations, because, draw, designs, , top, that, kidco, also, sells, the, key, seperately, with, no, locks, those, who, have, the, product, , love, , happened, misplace, lose, their, key, want, purchase, additional, incase, they, ever, lose, the, 1st, key, , will, admit, that, think, s, pretty, lame, company, try, squeeze, every, penny, out, you, especially, when, probaby, only, costs, 5, cents, make, the, darn, key, especially, when, you, re, dealing, with, child, safety, products, , far, how, well, the, product, works, , , love, wish, had, worked, out, better, with, all, my, draw, situations, , s, especially, great, those, cabinet, doors, that, stand, alone, don, t, have, another, door, next, where, you, can, just, buy, one, those, wrap, around, door, knob, locks, that, require, 2, knobs, be, side, by, side, , didn, t, have, great, luck, with, my, kitchen, draws, because, the, draw, panel, added, the, actual, draw, so, isn, t, flush, with, where, you, put, the, catch, , put, 5, stars, bring, the, rating, up, because, the, last, reviewer, only, gave, one, s, actually, great, product, , know, will, outsmart, my, baby, far, beyond, any, cheaper, options, out, there, , installed, them, with, the, adhesive, tape, that, comes, with, but, plan, reattaching, with, the, screws, also, included, because, personally, feel, that, the, screws, will, do, better, job, because, love, my, child, more, than, my, freaking, cabinet, doors, all, those, worried, about, messing, up, your, precious, wood, cabinets, , , mean, give, me, break, , , the, holes, so, small, anyway, s, totally, concealed, , only, you, will, know, s, there, , also, , locks, so, tight, that, little, fingers, hands, can, t, reach, inside, small, openings, , which, usually, occures, with, the, other, types, locks, , pull, stuff, out, , also, there, s, option, turn, the, lock, off, between, kids, , definitely, consider, product)\t(26868,[0,1,2,3,4,6,7,8,9,10,12,13,14,15,17,18,19,20,25,26,29,30,32,33,34,35,37,40,43,45,47,48,49,50,51,52,54,56,58,59,61,65,66,67,68,71,74,75,80,81,83,89,99,102,104,107,110,115,117,119,123,129,131,135,136,138,142,145,154,160,164,165,166,169,179,180,183,190,191,196,197,202,209,210,213,217,219,221,249,256,260,266,269,273,274,279,283,298,314,327,328,329,330,332,341,347,368,379,385,389,390,392,394,418,423,434,450,451,463,524,532,538,591,624,642,646,656,660,667,673,701,705,765,770,779,785,819,827,836,846,916,918,951,989,1030,1032,1047,1076,1094,1097,1098,1117,1125,1206,1226,1243,1247,1278,1290,1295,1337,1342,1420,1427,1430,1471,1508,1515,1524,1540,1636,1724,1738,1739,1784,1819,1935,1986,2128,2212,2289,2372,2391,2453,2690,2816,2836,2946,2949,2969,3098,3514,4325,4438,4748,5378,5566,5873,6042,6091,6945,7146,8073,13713,14147,16711,23112],[30.0,26.0,5.0,10.0,11.0,3.0,2.0,6.0,5.0,6.0,9.0,1.0,1.0,3.0,3.0,2.0,2.0,2.0,1.0,2.0,5.0,3.0,1.0,1.0,1.0,3.0,1.0,1.0,1.0,3.0,4.0,5.0,6.0,1.0,1.0,4.0,1.0,1.0,3.0,1.0,1.0,4.0,1.0,2.0,1.0,3.0,2.0,1.0,1.0,1.0,2.0,2.0,1.0,2.0,1.0,1.0,1.0,1.0,2.0,1.0,2.0,1.0,2.0,2.0,2.0,2.0,2.0,1.0,1.0,2.0,3.0,1.0,1.0,1.0,1.0,1.0,3.0,1.0,2.0,1.0,3.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,2.0,2.0,1.0,1.0,1.0,3.0,1.0,1.0,1.0,5.0,1.0,2.0,1.0,1.0,1.0,1.0,3.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,3.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,2.0,1.0,7.0,1.0,1.0,1.0,2.0,1.0,2.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,7.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,4.0,1.0,1.0,2.0,1.0,2.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0])\t[-75.78009428237499,75.78009428237499]\t[1.2277875212165257E-33,1.0]\t1.0\n"},"dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:209"},{"text":"%md\n# Model Evaluation\n\nAs in the original exercise, we want to use a custom metric for assessing the performance.\n","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460888_536364551","id":"20170129-045421_315570748","result":{"code":"SUCCESS","type":"HTML","msg":"<h1>Model Evaluation</h1>\n<p>As in the original exercise, we want to use a custom metric for assessing the performance.</p>\n"},"dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:210"},{"text":"import org.apache.spark.sql.functions.col\nimport org.apache.spark.ml.util.Identifiable\nimport org.apache.spark.ml.param.Param\nimport org.apache.spark.ml.param.ParamMap\nimport org.apache.spark.ml.evaluation.Evaluator\n\nclass AccuracyClassificationEvaluator(override val uid: String) extends org.apache.spark.ml.evaluation.Evaluator {\n    \n    def this() = this(org.apache.spark.ml.util.Identifiable.randomUID(\"accuEval\"))\n\n    val labelCol: org.apache.spark.ml.param.Param[String] = new org.apache.spark.ml.param.Param[String](this, \"labelCol\", \"label column name\")\n    setDefault(labelCol, \"label\")\n    def getLabelCol: String = $(labelCol)\n    def setLabelCol(value:String): this.type = set(labelCol, value)\n\n    val predictionCol: org.apache.spark.ml.param.Param[String] = new org.apache.spark.ml.param.Param[String](this, \"predictionCol\", \"prediction column name\")\n    setDefault(predictionCol, \"prediction\")\n    def getPredictionCol: String = $(predictionCol)\n    def setPredictionCol(value:String): this.type = set(predictionCol, value)\n\n    override def evaluate(dataset: org.apache.spark.sql.Dataset[_]) : Double = {\n        val num_total = dataset.count()\n        val num_correct = dataset.filter(dataset(getLabelCol) === dataset(getPredictionCol)).count()\n        num_correct.toDouble / num_total\n    }\n\n    override def copy(extra: org.apache.spark.ml.param.ParamMap): AccuracyClassificationEvaluator = null // defaultCopy(extra)\n\n}","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460889_535979802","id":"20170129-045431_175924070","dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:211"},{"text":"%md\n## Assess Performance\n\nWith the evaluator we can assess the performance of the prediction and easily compare it to a simple model which always predicts 'positive'.\n\nFor evaluating a model, the following steps have to be performed\n1. Create instance of `AccuracyClassificationEvaluator`\n2. Set names of label column and prediction in evaluator\n3. Evaluate trained model\n4. Evaluate dummy model which always predicts \"positive\" as a baseline\n\nHow can we create a model that always predicts 'positive'? Actually we don't need a model itself, since evaluation is done by looking at the predicted values. So it is enough to create a DataFrame with a prediction column with constant value '1'.\n","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460890_537134049","id":"20170129-045442_862289758","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>Assess Performance</h2>\n<p>With the evaluator we can assess the performance of the prediction and easily compare it to a simple model which always predicts 'positive'.</p>\n<p>For evaluating a model, the following steps have to be performed</p>\n<ol>\n<li>Create instance of <code>AccuracyClassificationEvaluator</code></li>\n<li>Set names of label column and prediction in evaluator</li>\n<li>Evaluate trained model</li>\n<li>Evaluate dummy model which always predicts &ldquo;positive&rdquo; as a baseline</li>\n</ol>\n<p>How can we create a model that always predicts 'positive'? Actually we don't need a model itself, since evaluation is done by looking at the predicted values. So it is enough to create a DataFrame with a prediction column with constant value '1'.</p>\n"},"dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:212"},{"text":"val always_positive = pred.withColumn(\"prediction\",lit(1.0))\n\nval evaluator = new AccuracyClassificationEvaluator()\n    .setPredictionCol(\"prediction\")\n    .setLabelCol(\"sentiment\")\n\nval acc = evaluator.evaluate(pred)\nval baseline = evaluator.evaluate(always_positive)\nprintln(s\"Model Accuracy = ${acc}\")\nprintln(s\"Baseline Accuracy = ${baseline}\")","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460891_536749300","id":"20170129-045451_732519493","dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:213"},{"text":"%md\n# Hyper Parameter Tuning\n\nAgain we want to tune some hyper parameters, but this time inside a pipeline. The methodology is the same as before, we can directly include the CrossValidator into the pipeline. But step by step...\n\nFirst let us have a look at all paremeters of a LogisticRegression.\n","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460891_536749300","id":"20170129-045504_1499849390","result":{"code":"SUCCESS","type":"HTML","msg":"<h1>Hyper Parameter Tuning</h1>\n<p>Again we want to tune some hyper parameters, but this time inside a pipeline. The methodology is the same as before, we can directly include the CrossValidator into the pipeline. But step by step&hellip;</p>\n<p>First let us have a look at all paremeters of a LogisticRegression.</p>\n"},"dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:214"},{"text":"println(new LogisticRegression().explainParams())","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460892_534825555","id":"20170129-045513_83457101","result":{"code":"SUCCESS","type":"TEXT","msg":"elasticNetParam: the ElasticNet mixing parameter, in range [0, 1]. For alpha = 0, the penalty is an L2 penalty. For alpha = 1, it is an L1 penalty (default: 0.0)\nfeaturesCol: features column name (default: features)\nfitIntercept: whether to fit an intercept term (default: true)\nlabelCol: label column name (default: label)\nmaxIter: maximum number of iterations (>= 0) (default: 100)\npredictionCol: prediction column name (default: prediction)\nprobabilityCol: Column name for predicted class conditional probabilities. Note: Not all models output well-calibrated probability estimates! These probabilities should be treated as confidences, not precise probabilities (default: probability)\nrawPredictionCol: raw prediction (a.k.a. confidence) column name (default: rawPrediction)\nregParam: regularization parameter (>= 0) (default: 0.0)\nstandardization: whether to standardize the training features before fitting the model (default: true)\nthreshold: threshold in binary classification prediction, in range [0, 1] (default: 0.5)\nthresholds: Thresholds in multi-class classification to adjust the probability of predicting each class. Array must have length equal to the number of classes, with values >= 0. The class with largest value p/t is predicted, where p is the original probability of that class and t is the class' threshold (undefined)\ntol: the convergence tolerance for iterative algorithms (default: 1.0E-6)\nweightCol: weight column name. If this is not set or empty, we treat all instance weights as 1.0 (undefined)\n"},"dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:215"},{"text":"%md\n## Create ParamGrid\n\nNow we create a param grid that should be used for using different sets of parameters. We want to tweak two parameters again:\n\n* regParam should take values in [0.0, 0.0001, 0.01, 1.0, 100.0]\n* maxIter should take values in [10, 100])\n\nIn order to create this grid, we first need to create an instance of a LogisticRegression, so we can access its parameters.\n","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460893_534440806","id":"20170129-045529_389742601","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>Create ParamGrid</h2>\n<p>Now we create a param grid that should be used for using different sets of parameters. We want to tweak two parameters again:</p>\n<ul>\n<li>regParam should take values in [0.0, 0.0001, 0.01, 1.0, 100.0]</li>\n<li>maxIter should take values in [10, 100])</li>\n</ul>\n<p>In order to create this grid, we first need to create an instance of a LogisticRegression, so we can access its parameters.</p>\n"},"dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:216"},{"text":"import org.apache.spark.ml.tuning.ParamGridBuilder\n\nval lr = new LogisticRegression()\n    .setFeaturesCol(\"features\")\n    .setLabelCol(\"sentiment\")\nval param_grid = new ParamGridBuilder()\n    .addGrid(lr.regParam, Array(0.0, 0.0001, 0.01, 1.0, 100.0))\n    .addGrid(lr.maxIter, Array(10, 100, 1000))\n    .build()","dateUpdated":"2017-02-26T10:41:02+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460894_535595053","id":"20170129-045537_1963157387","dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:217"},{"text":"%md\n## Create Pipeline\n\nNow we can create a pipeline using a CrossValidator instead of directly using a LogisticRegression. This means the configuration of the Pipeline should match the old one except that a CrossValidator is inserted instead of the LogisticRegression. The CrossValidator works as a wrapper of the regression algorithm.\n","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460894_535595053","id":"20170129-045559_83967585","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>Create Pipeline</h2>\n<p>Now we can create a pipeline using a CrossValidator instead of directly using a LogisticRegression. This means the configuration of the Pipeline should match the old one except that a CrossValidator is inserted instead of the LogisticRegression. The CrossValidator works as a wrapper of the regression algorithm.</p>\n"},"dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:218"},{"text":"import org.apache.spark.ml.tuning.CrossValidator\n\nval stopWords = Array(\"the\",\"a\",\"and\",\"or\", \"it\", \"this\", \"of\", \"an\", \"as\", \"in\", \"on\", \"is\", \"are\", \"to\", \"was\", \"for\", \"then\", \"i\", \"my\", \"that\", \"with\", \"we\", \"have\", \"so\", \"you\", \"s\", \"\")\n\nval stages = Array(\n    new PunctuationCleanupTransformer()\n        .setInputCol(\"review\")\n        .setOutputCol(\"clean_review\"),\n    new SQLTransformer()\n        .setStatement(\"SELECT *,CASE WHEN rating < 3 THEN 0.0 ELSE 1.0 END AS sentiment FROM __THIS__ WHERE rating <> 3\"),\n    new Tokenizer()\n        .setInputCol(\"clean_review\")\n        .setOutputCol(\"words\"),\n    new StopWordsRemover()\n        .setInputCol(\"words\")\n        .setOutputCol(\"vwords\")\n        .setStopWords(stopWords),\n    new NGram()\n        .setInputCol(\"vwords\")\n        .setOutputCol(\"ngrams\")\n        .setN(2),\n    new CountVectorizer()\n        .setInputCol(\"ngrams\")\n        .setOutputCol(\"tf\")\n        .setMinDF(4.0),\n    new IDF()\n        .setInputCol(\"tf\")\n        .setOutputCol(\"features\"),\n    new CrossValidator()\n        .setEstimator(new LogisticRegression()\n            .setFeaturesCol(\"features\")\n            .setLabelCol(\"sentiment\")\n        )\n        .setEstimatorParamMaps(param_grid)\n        .setEvaluator(new AccuracyClassificationEvaluator()\n            .setLabelCol(\"sentiment\")\n        )\n        .setNumFolds(3)\n)\n\nval pipe = new Pipeline().setStages(stages)\nval model = pipe.fit(trainingData)","dateUpdated":"2017-02-26T10:46:48+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460895_535210304","id":"20170129-045609_1796804187","dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:219"},{"text":"%md\n## Assess model performance\nAgain we want to evaluate the model that was trained using the pipeline and compare it the same simple baseline model which always predicts 'positive'","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460896_520974595","id":"20170131-103049_1557536721","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>Assess model performance</h2>\n<p>Again we want to evaluate the model that was trained using the pipeline and compare it the same simple baseline model which always predicts 'positive'</p>\n"},"dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:220"},{"text":"// Predict sentiment for test data\nval pred = model.transform(validationData)\n\nval acc = evaluator.evaluate(pred)\nval baseline = evaluator.evaluate(always_positive)\nprintln(s\"Model Accuracy = ${acc}\")\nprintln(s\"Baseline Accuracy = ${baseline}\")\n","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460896_520974595","id":"20170129-045619_1930087860","dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:221"},{"text":"","dateUpdated":"2017-02-26T10:37:40+0000","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1488105460897_520589846","id":"20170129-101018_1552288438","dateCreated":"2017-02-26T10:37:40+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:222"}],"name":"Amazon Baby Products Pipeline Solution","id":"2CA1SDB3K","angularObjects":{"2C9DA5ABT:shared_process":[],"2CB4W1XS9:shared_process":[],"2CAV382KZ:shared_process":[],"2CCPAMJ23:shared_process":[],"2C9H3K6VR:shared_process":[],"2CAEG9DUN:shared_process":[],"2CCMDDDKG:shared_process":[],"2CCAMQ586:shared_process":[],"2CAF2WTQ3:shared_process":[]},"config":{"looknfeel":"default"},"info":{}}